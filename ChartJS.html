<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Creating the page structure with new HTML5 tags</title>
    <link type="text/css" rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header>
        <h1 class="header">Web-programozás-1 Elméleti Házi feladat</h1>
    </header>
    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="tablazat.html" >Táblázat</a></li>
            <li><a href="html5.html">HTML5</a></li>
            <li><a href="ChartJS.html"class="active" >ChartJS</a></li>
            <li><a href="AJAX.html" >AJAX</a></li>
            <li><a href="OOJS.html" >OOJS</a></li>
        </ul>
    </nav>
    <aside>
        <h1>ChartJS</h1>
    </aside>
    <section>
        <h1>ChartJS</h1>
        <article>
            <table id="myTable" >
                <tr onclick="myFunction(this)">
                  <td>12</td>
                  <td>7</td>
                  <td>3</td>
                  <td>19</td>
                  <td>1</td>
                </tr>
                <tr onclick="myFunction(this)">
                  <td>5</td>
                  <td>16</td>
                  <td>0</td>
                  <td>20</td>
                  <td>9</td>
                </tr>
                <tr onclick="myFunction(this)">
                  <td>11</td>
                  <td>2</td>
                  <td>14</td>
                  <td>6</td>
                  <td>17</td>
                </tr>
                <tr onclick="myFunction(this)">
                  <td>8</td>
                  <td>13</td>
                  <td>4</td>
                  <td>10</td>
                  <td>18</td>
                </tr>
                <tr onclick="myFunction(this)">
                  <td>15</td>
                  <td>1</td>
                  <td>7</td>
                  <td>3</td>
                  <td>6</td>
                </tr>
              </table>
        </article>
        <article>
            <canvas id="myChart"></canvas>
        </article>
    </section>
    <footer><div> Készítő : Kővágó Máté Neptun: DZMWSO </div></footer>
    <script>

      let sor = [];
      const ctx = document.getElementById('myChart');
      let myChartInstance = null;


      function myFunction(x) {
          sor = [];

        for (let i = 0; i < x.cells.length; i++) {
        sor.push(Number(x.cells[i].textContent));
        }

      if (myChartInstance) {
          myChartInstance.destroy();
      }

      myChartInstance = drawChart();
    }

    function drawChart(){
  return new Chart(ctx, {
    type: 'line',
    data: {
      labels: ["0", "1", "2", "3", "4" ],
      datasets: [{
        label: 'Data from a row',
        data: sor,
        borderWidth: 1
      }]
    },
    options: {
      scales: {
        y: {
          beginAtZero: true
        }
      }
    }
  });
}

        
        window.onload = function() {
          myFunction(document.getElementById("myTable").rows[0]);
        }
        

        


    </script>


</body>
</html>
